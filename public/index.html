<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Not&iacute;cias de Mirador, regi&atilde;o e Brasil">
    <meta name="robots" content="index, follow">
    <title id="siteTitle">Mirador e Regi&atilde;o Online</title>
    <link rel="stylesheet" href="css/styles.css?v=135">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* Logo styles for public site */
        .header-content.header-content-brand {
            display: grid;
            grid-template-columns: minmax(0, 1fr) auto minmax(0, 1fr);
            align-items: center;
            min-height: 70px;
        }

        .site-brand-text-wrap {
            grid-column: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: center;
            line-height: 1;
            gap: 0.1rem;
            text-decoration: none;
        }

        .site-brand-logo {
            grid-column: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        .site-logo {
            max-height: 56px;
            max-width: 210px;
            object-fit: contain;
            display: block;
            filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.18));
        }

        .site-logo-fallback {
            width: 60px;
            height: 38px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.35);
            background: rgba(255, 255, 255, 0.08);
            color: var(--header-text, #ffffff);
            font-family: 'Source Sans 3', 'Segoe UI', sans-serif;
            font-size: 0.78rem;
            font-weight: 700;
            letter-spacing: 0.08em;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-text {
            font-family: 'Roboto Condensed', 'Source Sans 3', 'Segoe UI', sans-serif;
            font-size: 1.02rem;
            font-weight: 600;
            color: var(--header-text, #ffffff);
            letter-spacing: 0.01em;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }

        .logo-subtitle {
            font-family: 'Roboto Condensed', 'Source Sans 3', 'Segoe UI', sans-serif;
            font-size: 0.66rem;
            font-weight: 600;
            letter-spacing: 0.09em;
            color: var(--header-text, #ffffff);
            opacity: 0.84;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }

        .brand-loading {
            opacity: 0.7;
        }

        @media (min-width: 769px) {
            .site-brand-text-wrap {
                display: none;
            }

            .header-content.header-content-brand {
                grid-template-columns: 1fr auto 1fr;
            }
        }

        @media (max-width: 1024px) {
            .logo-text {
                font-size: 0.94rem;
            }

            .logo-subtitle {
                font-size: 0.6rem;
                letter-spacing: 0.08em;
            }

            .site-logo {
                max-height: 50px;
                max-width: 180px;
            }
        }

        @media (max-width: 768px) {
            .header-content.header-content-brand {
                min-height: 62px;
                grid-template-columns: 1fr;
                justify-items: center;
                padding-left: 0;
                padding-right: 0;
            }

            .site-brand-text-wrap {
                display: none;
            }

            .site-brand-logo {
                grid-column: 1;
                margin: 0 auto;
            }

            .site-logo {
                max-height: 42px;
                max-width: 168px;
            }

            .logo-text {
                font-size: 0.84rem;
            }

            .logo-subtitle {
                font-size: 0.58rem;
                letter-spacing: 0.07em;
            }

            .site-logo-fallback {
                width: 46px;
                height: 30px;
                font-size: 0.67rem;
            }
        }

        @media (max-width: 640px) {
            .logo-subtitle {
                display: none;
            }

            .logo-text {
                font-size: 0.9rem;
            }
        }
    </style>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-top-strip">
            <div class="container">
                <div class="header-top-strip-brand">
                    <span id="siteTopStripTagline" class="header-top-strip-subtitle">PORTAL DE NOT&Iacute;CIAS</span>
                    <span id="siteTopStripName" class="header-top-strip-title">MIRADOR E REGI&Atilde;O ONLINE</span>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="header-content header-content-brand">
                <a href="index.html" class="site-brand-text-wrap" aria-label="P&aacute;gina inicial">
                    <span id="siteLogoText" class="logo-text">Mirador e Regi&atilde;o Online</span>
                    <span id="siteTaglineText" class="logo-subtitle">Portal de Not&iacute;cias</span>
                </a>
                <a href="index.html" class="site-brand-logo" id="siteLogoLink" aria-label="Logo do site">
                    <img id="siteLogoImg" class="site-logo" src="" alt="" style="display: none;">
                    <span id="siteLogoFallback" class="site-logo-fallback">MRO</span>
                </a>
            </div>
            
            <!-- Side Menu Button - Fixed at far right -->
            <button class="btn-side-menu-fixed" id="btnSideMenu" aria-label="Categorias">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="4" x2="20" y1="6" y2="6"></line>
                    <line x1="4" x2="20" y1="12" y2="12"></line>
                    <line x1="4" x2="20" y1="18" y2="18"></line>
                </svg>
            </button>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <button class="mobile-menu-close">&times;</button>
        <nav class="mobile-nav">
            <a href="#" data-category="mirador">Mirador</a>
            <a href="#" data-category="regiao">Regi&atilde;o</a>
            <a href="#" data-category="brasil">Brasil</a>
            <a href="#" data-category="policia">Pol&iacute;cia</a>
            <a href="#" data-category="esportes">Esportes</a>
            <a href="#" data-category="politica">Pol&iacute;tica</a>
            <a href="#" data-category="instagram" style="color: #E4405F; font-weight: 600;">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 0.25rem;">
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"/>
                </svg>
                Instagram
            </a>
        </nav>
    </div>

    <!-- Side Panel Overlay -->
    <div class="side-panel-backdrop" id="sidePanelBackdrop"></div>
    
    <!-- Side Panel (Categories Menu) - Fixed Right Sidebar -->
    <aside class="side-panel" id="sidePanel">
        <div class="side-panel-header">
            <h3 class="side-panel-title">Categorias</h3>
            <button class="side-panel-close" id="sidePanelClose" aria-label="Fechar">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <nav class="side-panel-nav">
            <a href="#" class="side-panel-link" data-category="mirador">
                <span class="side-panel-dot" style="background: #0891b2;"></span>
                Mirador
            </a>
            <a href="#" class="side-panel-link" data-category="regiao">
                <span class="side-panel-dot" style="background: #ea580c;"></span>
                Regi&atilde;o
            </a>
            <a href="#" class="side-panel-link" data-category="brasil">
                <span class="side-panel-dot" style="background: #2563eb;"></span>
                Brasil
            </a>
            <a href="#" class="side-panel-link" data-category="policia">
                <span class="side-panel-dot" style="background: #7c3aed;"></span>
                Pol&iacute;cia
            </a>
            <a href="#" class="side-panel-link" data-category="esportes">
                <span class="side-panel-dot" style="background: #059669;"></span>
                Esportes
            </a>
            <a href="#" class="side-panel-link" data-category="politica">
                <span class="side-panel-dot" style="background: #dc2626;"></span>
                Pol&iacute;tica
            </a>
            <a href="#" class="side-panel-link" data-category="instagram">
                <span class="side-panel-dot" style="background: #E4405F;"></span>
                Instagram
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main">
        <!-- Stories Section -->
        <section class="stories-section">
            <div class="container">
                <div class="stories-scroll" id="storiesContainer">
                    <!-- Stories will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Top Banners Section -->
        <section class="top-banners-section" id="topBannersSection" style="display: none;">
            <div class="container">
                <div class="top-banners-grid" id="topBannersGrid"></div>
            </div>
        </section>

        <!-- Story Viewer Modal -->
        <div class="story-modal" id="storyModal">
            <div class="story-modal-backdrop" id="storyModalBackdrop"></div>
            <button class="story-modal-close" id="storyModalClose" aria-label="Fechar">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            
            <div class="story-viewer">
                <!-- Progress Bar -->
                <div class="story-progress-container">
                    <div class="story-progress-bar" id="storyProgressBar"></div>
                </div>
                
                <!-- Story Header -->
                <div class="story-header">
                    <div class="story-author">
                        <img id="storyAuthorAvatar" src="" alt="">
                        <span id="storyAuthorName">Mirador Online</span>
                        <span class="story-time" id="storyTime"></span>
                    </div>
                </div>
                
                <!-- Story Content -->
                <div class="story-content">
                    <img id="storyImage" src="" alt="">
                    <div class="story-caption" id="storyCaption"></div>
                </div>
                
                <!-- Story Actions -->
                <div class="story-actions">
                    <a id="storyLink" href="#" target="_blank" class="story-btn-primary">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"/>
                        </svg>
                        Ver no Instagram
                    </a>
                </div>
                
                <!-- Navigation -->
                <button class="story-nav story-nav-prev" id="storyPrev" aria-label="Anterior">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                </button>
                <button class="story-nav story-nav-next" id="storyNext" aria-label="Pr&oacute;ximo">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Instagram News Section -->
        <section class="news-section instagram-news-section">
            <div class="container">
                <div class="section-header instagram-section-header">
                    <h2 class="section-title">Instagram</h2>
                    <div class="instagram-section-actions">
                        <a href="#" class="view-all" onclick="filterByCategory('instagram'); return false;">Ver todas &rarr;</a>
                        <button type="button" class="instagram-mobile-next-btn" id="instagramTopNextBtn" onclick="scrollInstagramCarousel('instagramNewsGrid', 1, event)" aria-label="Próximo post">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>
                    </div>
                </div>
                <div id="instagramNewsGrid" class="instagram-news-grid">
                    <!-- Instagram news will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Latest News -->
        <section class="news-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">&Uacute;ltimas Not&iacute;cias</h2>
                    <a href="#" class="view-all">Ver todas &rarr;</a>
                </div>
                <div id="latestNews" class="news-grid">
                    <!-- Latest news will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Category Sections -->
        <section class="news-section category-section" data-category="esportes">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Esportes</h2>
                    <a href="#" class="view-all" onclick="filterByCategory('esportes'); return false;">Ver todas &rarr;</a>
                </div>
                <div id="categoryEsportes" class="news-grid">
                    <!-- Sports news will be loaded here -->
                </div>
            </div>
        </section>

        <section class="news-section category-section" data-category="politica">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Pol&iacute;tica</h2>
                    <a href="#" class="view-all" onclick="filterByCategory('politica'); return false;">Ver todas &rarr;</a>
                </div>
                <div id="categoryPolitica" class="news-grid">
                    <!-- Politics news will be loaded here -->
                </div>
            </div>
        </section>

        <section class="news-section category-section" data-category="policia">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Pol&iacute;cia</h2>
                    <a href="#" class="view-all" onclick="filterByCategory('policia'); return false;">Ver todas &rarr;</a>
                </div>
                <div id="categoryPolicia" class="news-grid">
                    <!-- Police news will be loaded here -->
                </div>
            </div>
        </section>

        <section class="news-section category-section" data-category="regiao">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Regi&atilde;o</h2>
                    <a href="#" class="view-all" onclick="filterByCategory('regiao'); return false;">Ver todas &rarr;</a>
                </div>
                <div id="categoryRegiao" class="news-grid">
                    <!-- Region news will be loaded here -->
                </div>
            </div>
        </section>

        <section class="news-section category-section" data-category="mirador">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Mirador</h2>
                    <a href="#" class="view-all" onclick="filterByCategory('mirador'); return false;">Ver todas &rarr;</a>
                </div>
                <div id="categoryMirador" class="news-grid">
                    <!-- Mirador news will be loaded here -->
                </div>
            </div>
        </section>

        <section class="news-section category-section" data-category="brasil">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Brasil</h2>
                    <a href="#" class="view-all" onclick="filterByCategory('brasil'); return false;">Ver todas &rarr;</a>
                </div>
                <div id="categoryBrasil" class="news-grid">
                    <!-- Brazil news will be loaded here -->
                </div>
            </div>
        </section>
        <section class="news-section category-section" data-category="instagram" id="instagramFeedSection" style="display: none;">
            <div class="container">
                <div class="section-header instagram-section-header">
                    <h2 class="section-title">Instagram</h2>
                    <button type="button" class="instagram-mobile-next-btn" id="instagramFeedNextBtn" onclick="scrollInstagramCarousel('categoryInstagramFeed', 1, event)" aria-label="Próximo post">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </button>
                </div>
                <div id="categoryInstagramFeed" class="instagram-news-grid instagram-news-grid-full">
                    <!-- Instagram feed -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3 class="footer-title" id="footerSiteName">Mirador e Regi&atilde;o Online</h3>
                    <p class="footer-text">Not&iacute;cias de Mirador, regi&atilde;o e Brasil. Informa&ccedil;&atilde;o com credibilidade e
                        agilidade.</p>
                </div>

                <div class="footer-col">
                    <h4 class="footer-heading">Categorias</h4>
                    <ul class="footer-links">
                        <li><a href="#" data-category="mirador">Mirador</a></li>
                        <li><a href="#" data-category="regiao">Regi&atilde;o</a></li>
                        <li><a href="#" data-category="brasil">Brasil</a></li>
                        <li><a href="#" data-category="policia">Pol&iacute;cia</a></li>
                        <li><a href="#" data-category="esportes">Esportes</a></li>
                        <li><a href="#" data-category="politica">Pol&iacute;tica</a></li>
                        <li><a href="#" data-category="instagram" style="color: #E4405F;">Instagram</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 class="footer-heading">Links</h4>
                    <ul class="footer-links" id="footerLinks">
                        <li><a href="sobre.html" id="footerLinkAboutEl">Sobre n&oacute;s</a></li>
                        <li><a href="contato.html" id="footerLinkContactEl">Contato</a></li>
                        <li><a href="privacidade.html" id="footerLinkPrivacyEl">Pol&iacute;tica de Privacidade</a></li>
                        <li><a href="termos.html" id="footerLinkTermsEl">Termos de Uso</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4 class="footer-heading">Siga-nos</h4>
                    <div class="social-links" id="footerSocialLinks">
                        <a href="https://instagram.com/miradoreregiao" target="_blank" aria-label="Instagram" id="footerSocialInstagramEl" style="display: none;">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                            </svg>
                        </a>
                        <a href="https://facebook.com/miradoreregiao" target="_blank" aria-label="Facebook" id="footerSocialFacebookEl" style="display: none;">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
                            </svg>
                        </a>
                        <a href="https://twitter.com" target="_blank" aria-label="Twitter" id="footerSocialTwitterEl" style="display: none;">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.84 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                            </svg>
                        </a>
                        <a href="https://youtube.com" target="_blank" aria-label="YouTube" id="footerSocialYoutubeEl" style="display: none;">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p id="footerCopyright">&copy; 2026 Mirador e Regi&atilde;o Online. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Brand Configuration Script -->
    <script>
        // Load and apply brand settings
        (function() {
            function normalizeBrandText(value) {
                const text = String(value || '').normalize('NFC');
                const fixWord = function(match, correctWord) {
                    if (match === match.toUpperCase()) return correctWord.toLocaleUpperCase('pt-BR');
                    if (match.charAt(0) === match.charAt(0).toUpperCase()) {
                        return correctWord.charAt(0).toUpperCase() + correctWord.slice(1);
                    }
                    return correctWord;
                };

                return text
                    .replace(/\bregiao\b/gi, function(match) { return fixWord(match, 'região'); })
                    .replace(/\bregi\u00e3o\b/gi, function(match) { return fixWord(match, 'região'); })
                    .replace(/\bnoticias\b/gi, function(match) { return fixWord(match, 'notícias'); });
            }

            function applyBrandSettings(settings) {
                const siteName = normalizeBrandText(settings.siteName || 'Mirador e Regi\u00e3o Online');
                const siteTagline = normalizeBrandText((settings.siteTagline && settings.siteTagline.trim()) || 'Portal de Not\u00edcias');
                
                // Update title
                document.title = siteName;
                var siteTitleEl = document.getElementById('siteTitle');
                if (siteTitleEl) siteTitleEl.textContent = siteName;
                
                // Update logo in header
                var logoImg = document.getElementById('siteLogoImg');
                var logoFallback = document.getElementById('siteLogoFallback');
                var logoText = document.getElementById('siteLogoText');
                var siteTaglineText = document.getElementById('siteTaglineText');
                var topStripName = document.getElementById('siteTopStripName');
                var topStripTagline = document.getElementById('siteTopStripTagline');
                var initials = String(siteName || '')
                    .trim()
                    .split(/\s+/)
                    .filter(Boolean)
                    .slice(0, 2)
                    .map(function(part) { return part.charAt(0).toUpperCase(); })
                    .join('') || 'MRO';
                
                if (settings.logo && logoImg) {
                    logoImg.src = settings.logo;
                    logoImg.alt = siteName;
                    logoImg.style.display = 'block';
                    if (logoFallback) logoFallback.style.display = 'none';
                } else if (logoImg) {
                    logoImg.style.display = 'none';
                    if (logoFallback) {
                        logoFallback.style.display = 'flex';
                        logoFallback.textContent = initials;
                    }
                }

                if (logoText) {
                    logoText.style.display = 'block';
                    logoText.textContent = siteName;
                }

                if (topStripName) {
                    topStripName.textContent = normalizeBrandText(siteName || '').toLocaleUpperCase('pt-BR');
                }

                if (topStripTagline) {
                    topStripTagline.textContent = normalizeBrandText(siteTagline || 'Portal de Not\u00edcias').toLocaleUpperCase('pt-BR');
                }

                if (siteTaglineText) {
                    siteTaglineText.style.display = 'block';
                    siteTaglineText.textContent = siteTagline;
                }
                
                // Update footer
                var footerSiteName = document.getElementById('footerSiteName');
                var footerCopyright = document.getElementById('footerCopyright');
                if (footerSiteName) footerSiteName.textContent = siteName;
                if (footerCopyright) footerCopyright.innerHTML = '&copy; ' + new Date().getFullYear() + ' ' + siteName + '. Todos os direitos reservados.';
            }
            
            // Try to get from localStorage
            var brandSettings = localStorage.getItem('publicSiteBrand');
            if (brandSettings) {
                try {
                    var settings = JSON.parse(brandSettings);
                    applyBrandSettings(settings);
                } catch(e) {
                    console.log('Error parsing brand settings');
                }
            }
        })();
    </script>
    
    <script src="js/firebase-config.js?v=16"></script>
    <script src="js/firebase-db.js?v=25"></script>
    <script src="js/app.js?v=79"></script>
</body>

</html>

